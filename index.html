<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self' https:;
    script-src 'self' 'unsafe-inline' 'unsafe-eval' 'wasm-unsafe-eval' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com https://www.gstatic.com https://firebase.googleapis.com https://securetoken.googleapis.com https://identitytoolkit.googleapis.com https://maps.googleapis.com https://www.googletagmanager.com chrome-extension:;
    style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com https://fonts.googleapis.com;
    font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com;
    img-src 'self' data: https: blob: firebasestorage.googleapis.com *.firebasestorage.app *.googleapis.com *.gstatic.com;
    connect-src 'self' http://localhost:4000 http://127.0.0.1:4000 https: wss: firebasestorage.googleapis.com *.googleapis.com *.firebasestorage.app;
    worker-src 'self' blob:;
    manifest-src 'self';
    object-src 'none';
    base-uri 'self';
    form-action 'self';
  " />
  <title>DONANTES</title>
  <meta name="description"
    content="DONANTES conecta a personas para donar y recibir artículos útiles mediante geolocalización e IoT, apoyando el ODS 12." />
  <link rel="icon" href="assets/logo.ico" type="image/x-icon">
  <link rel="shortcut icon" href="assets/logo.ico" type="image/x-icon">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    crossorigin="anonymous" />

  <!-- FontAwesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <!-- Google Fonts - Optimizadas -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Moirai+One&family=Rubik:wght@400;600;700&display=swap"
    rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="index.css">

  <!-- Cache Buster -->
  <script type="module" src="cache-buster.js"></script>

  <!-- Manifest PWA -->
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#A992D8" />
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Donantes">

  <!-- Environment Config -->
  <script src="env.js"></script>
  <!-- Service Worker Registration -->
  <script src="sw-register.js"></script>
</head>

<body>

  <!-- NAVBAR RESPONSIVA -->
  <nav class="navbar navbar-expand-lg navbar-light index-navbar">
    <div class="container">
      <a class="navbar-brand fw-bold d-flex align-items-center gap-2 index-brand" href="#">
        <i class="fas fa-heart heart-icon"></i> DONANTES
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav align-items-lg-center">
          <li class="nav-item"><a href="#how" class="nav-link">Cómo funciona</a></li>
          <li class="nav-item mt-2 mt-lg-0"><a href="register.html" class="btn btn-purple">Registrarse</a></li>
          <li class="nav-item mt-2 mt-lg-0"><a href="login.html" class="btn btn-outline-purple">Iniciar sesión</a></li>
          <!-- Botón de instalar PWA -->
          <div id="installPwaContainer" style="position:fixed;bottom:24px;right:24px;z-index:9999;display:none;">
            <button id="installPwaBtn" class="btn btn-success shadow rounded-pill px-4 py-2">
              <i class="fa-solid fa-download"></i> Instalar App
            </button>
          </div>
          <script>
            let deferredPrompt;
            const installBtn = document.getElementById('installPwaBtn');
            const installContainer = document.getElementById('installPwaContainer');
            window.addEventListener('beforeinstallprompt', (e) => {
              e.preventDefault();
              deferredPrompt = e;
              installContainer.style.display = 'block';
            });
            if (installBtn) {
              installBtn.addEventListener('click', async () => {
                installContainer.style.display = 'none';
                if (deferredPrompt) {
                  deferredPrompt.prompt();
                  const { outcome } = await deferredPrompt.userChoice;
                  deferredPrompt = null;
                }
              });
            }
            window.addEventListener('appinstalled', () => {
              installContainer.style.display = 'none';
            });
          </script>
        </ul>
      </div>
    </div>
  </nav>



  <!-- CARRUSEL RESPONSIVE CON COLORES PASTEL -->
  <div id="donantesCarousel" class="carousel slide" data-bs-ride="carousel">
    <!-- Indicadores -->
    <div class="carousel-indicators">
      <button type="button" data-bs-target="#donantesCarousel" data-bs-slide-to="0" class="active"></button>
      <button type="button" data-bs-target="#donantesCarousel" data-bs-slide-to="1"></button>
      <button type="button" data-bs-target="#donantesCarousel" data-bs-slide-to="2"></button>
    </div>

    <!-- Slides -->
    <div class="carousel-inner">

      <!-- Slide 1 -->
      <div class="carousel-item active">
        <div class="d-flex flex-column justify-content-center align-items-center text-center p-4 carousel-slide-1">
          <h2 class="carousel-title">Dona, ayuda, transforma</h2>
          <p class="carousel-text">Con pequeños actos podemos cambiar grandes historias.</p>
          <a href="#about" class="btn btn-purple mt-3">Conocer más</a>
        </div>
      </div>

      <!-- Slide 2 -->
      <div class="carousel-item">
        <div class="d-flex flex-column justify-content-center align-items-center text-center p-4 carousel-slide-2">
          <h2 class="carousel-title">Nuestro compromiso</h2>
          <p class="carousel-text">
            Donantes promueve el consumo responsable y la solidaridad. Cada donación ayuda al planeta y a la comunidad.
          </p>
        </div>
      </div>

      <!-- Slide 3 -->
      <div class="carousel-item">
        <div class="d-flex flex-column justify-content-center align-items-center text-center p-4 carousel-slide-3">
          <h2 class="carousel-title">Inspira y comparte</h2>
          <p class="carousel-text">
            Dona lo que ya no necesitas y permite que alguien más lo use. ¡Juntos podemos hacer la diferencia!
          </p>
        </div>
      </div>

    </div>

    <!-- Controles -->
    <button class="carousel-control-prev" type="button" data-bs-target="#donantesCarousel" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Anterior</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#donantesCarousel" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Siguiente</span>
    </button>
  </div>


  <!-- SECCIÓN OBJETIVO, MISIÓN, VISIÓN Y VALORES -->
  <section id="about" class="container my-5">
    <h2 class="text-center section-title mb-5 purpose-title">Nuestro Propósito</h2>

    <!-- OBJETIVO -->
    <div class="card shadow objetivo mb-4 p-4">
      <div class="card-body">
        <h4 class="card-title text-center mb-3 objective-title">Objetivo</h4>
        <p class="card-text text-justify objective-text">
          Fomentar la economía circular y la solidaridad social mediante la tecnología, ayudando a reducir los residuos
          y apoyar a quienes más lo necesitan.
          <strong>Queremos crear un puente entre la empatía y la innovación, impulsando comunidades más sostenibles y
            humanas.</strong>
        </p>
      </div>
    </div>

    <!-- MISIÓN Y VISIÓN -->
    <div class="row row-cols-1 row-cols-md-2 g-4 mb-4">
      <div class="col">
        <div class="card shadow h-100 p-3">
          <div class="card-body">
            <h5 class="card-title text-center mb-3 mission-title">Misión</h5>
            <p class="card-text text-justify mission-text">
              Promover la solidaridad y empatía hacia quienes no cuentan con los recursos necesarios para adquirir
              productos esenciales.
              Facilitamos la donación a través de centros de recolección accesibles y conectados, donde cada aporte
              marca la diferencia.
            </p>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card shadow h-100 p-3">
          <div class="card-body">
            <h5 class="card-title text-purple text-center mb-3">Visión</h5>
            <p class="card-text text-justify">
              Ser una red nacional que transforme la cultura del consumo hacia un modelo responsable, solidario y
              sostenible.
              Buscamos expandir Donantes en todo el país, impulsando una comunidad digital comprometida con el cambio
              positivo.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- VALORES -->
    <div class="card shadow p-4">
      <div class="card-body text-center">
        <h5 class="card-title text-purple mb-4">Nuestros Valores</h5>

        <div class="row row-cols-2 row-cols-md-3 g-3 justify-content-center">
          <div class="col">
            <div class="valor-item">Solidaridad</div>
          </div>
          <div class="col">
            <div class="valor-item">Empatía</div>
          </div>
          <div class="col">
            <div class="valor-item">Respeto</div>
          </div>
          <div class="col">
            <div class="valor-item">Inclusión</div>
          </div>
          <div class="col">
            <div class="valor-item">Conciencia Ambiental</div>
          </div>
        </div>
      </div>
    </div>
  </section>


  <!-- SECCIÓN 1: NUESTRO COMPROMISO CON EL PLANETA (ODS 12) -->
  <section id="compromiso" class="py-5 compromiso-section">
    <div class="container">
      <div class="text-center mb-4">
        <div class="ods-image-container mb-4">
          <div class="ods-image-background">
            <img src="assets/S_SDG_inverted_WEB-12.png" alt="ODS 12" class="ods-logo-large">
          </div>
        </div>
        <h2 class="section-title mb-3 compromiso-title">Compromiso con el planeta</h2>
        <span class="badge ods-badge">
          <i class="fa-solid fa-leaf me-2"></i>
          ODS 12: Producción y consumo responsables
        </span>
      </div>

      <div class="row g-4 align-items-stretch mt-4">
        <!-- Texto principal -->
        <div class="col-12 col-lg-6">
          <div class="card h-100 p-4 border-0 shadow-sm">
            <div class="card-body">
              <h5 class="text-purple fw-bold mb-3">
                <i class="fa-solid fa-earth-americas me-2"></i>
                ¿Por qué este compromiso?
              </h5>
              <p class="mb-3">
                El planeta se está quedando sin recursos. Si no cambiamos, en 2050 necesitaremos casi <strong
                  class="text-purple">tres planetas</strong> para mantener nuestro estilo de vida.
              </p>
              <p class="mb-0">
                Donantes promueve el <strong>consumo responsable</strong>: donar en lugar de desechar, reutilizar y
                pensar antes de comprar.
              </p>
            </div>
          </div>
        </div>

        <!-- Tarjetas de impacto -->
        <div class="col-12 col-lg-6">
          <div class="row row-cols-1 row-cols-sm-2 g-3 h-100">
            <div class="col">
              <div class="card h-100 p-3 text-center border-0 shadow-sm impact-card-1">
                <i class="fa-solid fa-recycle icon-xl mb-2 text-purple"></i>
                <h6 class="fw-bold text-purple mb-2">Economía circular</h6>
                <p class="small mb-0">Nueva vida a artículos</p>
              </div>
            </div>
            <div class="col">
              <div class="card h-100 p-3 text-center border-0 shadow-sm impact-card-2">
                <i class="fa-solid fa-seedling icon-xl mb-2 text-purple"></i>
                <h6 class="fw-bold text-purple mb-2">Menos residuos</h6>
                <p class="small mb-0">Reducción de huella</p>
              </div>
            </div>
            <div class="col">
              <div class="card h-100 p-3 text-center border-0 shadow-sm impact-card-3">
                <i class="fa-solid fa-hand-holding-heart icon-xl mb-2 text-purple"></i>
                <h6 class="fw-bold text-purple mb-2">Solidaridad</h6>
                <p class="small mb-0">Apoyo comunitario</p>
              </div>
            </div>
            <div class="col">
              <div class="card h-100 p-3 text-center border-0 shadow-sm impact-card-4">
                <i class="fa-solid fa-lightbulb icon-xl mb-2 text-purple"></i>
                <h6 class="fw-bold text-purple mb-2">Consumo consciente</h6>
                <p class="small mb-0">Pensar antes de comprar</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>


  <!-- SECCIÓN 2: CÓMO FUNCIONA LA APLICACIÓN -->
  <section id="how" class="container my-5">
    <div class="text-center mb-5">
      <h2 class="section-title">¿Cómo funciona?</h2>
      <p class="text-muted">Proceso simple en 5 pasos</p>
    </div>

    <!-- Tarjetas verticales de pasos -->
    <div class="row row-cols-2 row-cols-md-3 row-cols-lg-5 g-4">
      <div class="col">
        <div class="card step-card-vertical h-100 text-center border-0">
          <div class="step-number">1</div>
          <div class="card-body d-flex flex-column p-3">
            <i class="fa-solid fa-user-plus icon-xl-vertical mb-3"></i>
            <h6 class="fw-bold text-purple mb-2">Regístrate</h6>
            <p class="small mb-0 text-muted">Crea tu cuenta gratis</p>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="card step-card-vertical h-100 text-center border-0">
          <div class="step-number">2</div>
          <div class="card-body d-flex flex-column p-3">
            <i class="fa-solid fa-box-open icon-xl-vertical mb-3"></i>
            <h6 class="fw-bold text-purple mb-2">Publica</h6>
            <p class="small mb-0 text-muted">Dona o solicita artículos</p>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="card step-card-vertical h-100 text-center border-0">
          <div class="step-number">3</div>
          <div class="card-body d-flex flex-column p-3">
            <i class="fa-solid fa-map-location-dot icon-xl-vertical mb-3"></i>
            <h6 class="fw-bold text-purple mb-2">Ubica</h6>
            <p class="small mb-0 text-muted">Encuentra centro cercano</p>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="card step-card-vertical h-100 text-center border-0">
          <div class="step-number">4</div>
          <div class="card-body d-flex flex-column p-3">
            <i class="fa-solid fa-key icon-xl-vertical mb-3"></i>
            <h6 class="fw-bold text-purple mb-2">Código</h6>
            <p class="small mb-0 text-muted">Acceso seguro al locker</p>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="card step-card-vertical h-100 text-center border-0">
          <div class="step-number">5</div>
          <div class="card-body d-flex flex-column p-3">
            <i class="fa-solid fa-handshake icon-xl-vertical mb-3"></i>
            <h6 class="fw-bold text-purple mb-2">Entrega</h6>
            <p class="small mb-0 text-muted">Deposita o recoge fácil</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SECCIÓN DE CONTACTO -->
  <section id="contact" class="py-5 contact-section">
    <div class="container">
      <div class="text-center mb-5">
        <h2 class="text-purple mb-3 contact-title">
          <i class="fas fa-envelope me-3 contact-icon"></i>¿Necesitas ayuda?
        </h2>
        <p class="text-muted contact-subtitle">Estamos aquí para resolver tus dudas y escuchar tus sugerencias</p>
      </div>

      <div class="row g-4 align-items-stretch">
        <!-- Formulario de Contacto -->
        <div class="col-lg-6">
          <div class="card border-0 shadow-lg contact-card h-100">
            <div class="card-header contact-form-header">
              <h4 class="mb-0 text-white">
                <i class="fas fa-paper-plane me-2"></i>Envíanos un Mensaje
              </h4>
            </div>
            <div class="card-body p-4">
              <form id="contactForm" class="contact-form">
                <div class="row g-3">
                  <div class="col-md-6">
                    <label for="contactName" class="form-label contact-form-label">
                      <i class="fas fa-user me-2 contact-form-icon"></i>Nombre completo
                    </label>
                    <input type="text" class="form-control contact-input" id="contactName" required
                      placeholder="Tu nombre completo">
                  </div>

                  <div class="col-md-6">
                    <label for="contactEmail" class="form-label contact-form-label">
                      <i class="fas fa-envelope me-2 contact-form-icon"></i>Correo electrónico
                    </label>
                    <input type="email" class="form-control contact-input" id="contactEmail" required
                      placeholder="tu@email.com">
                  </div>

                  <div class="col-md-6">
                    <label for="contactPhone" class="form-label contact-form-label">
                      <i class="fas fa-phone me-2 contact-form-icon"></i>Teléfono (opcional)
                    </label>
                    <input type="tel" class="form-control contact-input" id="contactPhone" placeholder="(555) 123-4567">
                  </div>

                  <div class="col-md-6">
                    <label for="contactSubject" class="form-label contact-form-label">
                      <i class="fas fa-tag me-2 contact-form-icon"></i>Asunto
                    </label>
                    <select class="form-control contact-input" id="contactSubject" required>
                      <option value="">Selecciona un asunto</option>
                      <option value="general">Consulta general</option>
                      <option value="technical">Soporte técnico</option>
                      <option value="partnership">Alianzas</option>
                      <option value="feedback">Comentarios/Sugerencias</option>
                      <option value="other">Otro</option>
                    </select>
                  </div>

                  <div class="col-12">
                    <label for="contactMessage" class="form-label contact-form-label">
                      <i class="fas fa-comment me-2 contact-form-icon"></i>Mensaje
                    </label>
                    <textarea class="form-control contact-input contact-textarea" id="contactMessage" rows="4" required
                      placeholder="Escribe tu mensaje aquí..."></textarea>
                  </div>

                  <div class="col-12">
                    <button type="submit" class="btn contact-submit-btn w-100" id="submitContactBtn">
                      <i class="fas fa-paper-plane me-2"></i>
                      <span id="submitContactText">Enviar Mensaje</span>
                      <span id="submitContactSpinner" class="spinner-border spinner-border-sm d-none ms-2"></span>
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>

        <!-- Panel de Información de Contacto -->
        <div class="col-lg-6">
          <div class="contact-info-panel h-100">
            <div class="contact-info-header">
              <h4 class="text-white mb-3">
                <i class="fas fa-phone-alt me-3"></i>Contáctanos
              </h4>
            </div>

            <div class="contact-info-content">
              <div class="contact-info-item">
                <div class="contact-info-icon">
                  <i class="fas fa-envelope"></i>
                </div>
                <div class="contact-info-details">
                  <h6>Correo Electrónico</h6>
                  <span>donantescontacto@gmail.com</span>
                </div>
              </div>

              <div class="contact-info-item">
                <div class="contact-info-icon">
                  <i class="fas fa-phone"></i>
                </div>
                <div class="contact-info-details">
                  <h6>Teléfono de Contacto</h6>
                  <span>(555) 123-4567</span>
                </div>
              </div>

              <div class="contact-info-item">
                <div class="contact-info-icon">
                  <i class="fas fa-map-marker-alt"></i>
                </div>
                <div class="contact-info-details">
                  <h6>Nuestra Ubicación</h6>
                  <span>Universidad Tecnológica Santa Catarina</span>
                </div>
              </div>

              <div class="contact-info-item">
                <div class="contact-info-icon">
                  <i class="fas fa-clock"></i>
                </div>
                <div class="contact-info-details">
                  <h6>Tiempo de Respuesta</h6>
                  <span>24-48 horas hábiles</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    </div>
  </section>

  <!-- Botones flotantes mejorados para PWA e interacción -->
  <div class="floating-actions">
    <!-- Botón para instalar PWA -->
    <button id="installBtn" class="btn-floating btn-install btn-install-hidden" title="Instalar aplicación">
      <i class="fas fa-download"></i>
    </button>

    <!-- Botón para videojuego -->
    <a href="https://matsuralex.itch.io/gateway" target="_blank" rel="noopener noreferrer" class="btn-floating btn-game" title="Ir al videojuego">
      <i class="fas fa-gamepad"></i>
    </a>

    <!-- Botón principal de acción -->
    <a href="login.html" class="btn-floating btn-main" title="Comenzar a donar">
      <i class="fas fa-heart heart-icon"></i>
    </a>
  </div>

  <!-- Modal de instalación para iOS -->
  <div id="iosInstallModal" class="modal fade" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content ios-install-modal">
        <div class="modal-header ios-install-modal">
          <h5 class="modal-title">
            <i class="fas fa-mobile-alt me-2"></i>Instalar en iPhone/iPad
          </h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body text-center p-4">
          <p class="mb-3">Para instalar la aplicación en tu dispositivo iOS:</p>
          <div class="d-flex flex-column gap-3">
            <div class="d-flex align-items-center">
              <div class="step-number me-3 ios-install-step">1</div>
              <div>Toca el botón <i class="fas fa-share"></i> (Compartir)</div>
            </div>
            <div class="d-flex align-items-center">
              <div class="step-number me-3 ios-install-step">2</div>
              <div>Selecciona "Añadir a pantalla de inicio"</div>
            </div>
            <div class="d-flex align-items-center">
              <div class="step-number me-3 ios-install-step">3</div>
              <div>Confirma tocando "Añadir"</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer mejorado con derechos completos -->
  <footer class="py-5 index-footer">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-6">
          <h5 class="text-purple mb-2"><i class="fas fa-heart heart-icon me-2"></i>DONANTES</h5>
          <p class="mb-0 text-muted">Conectando personas para un consumo más responsable y sostenible</p>
        </div>
        <div class="col-md-6 text-md-end mt-3 mt-md-0">
          <div class="social-links mb-3">
            <a href="https://github.com/Laura21076/DONANTES" target="_blank" class="social-link me-3"
              title="Ver código en GitHub">
              <i class="fab fa-github"></i>
            </a>

        <!-- JS al final para mejor rendimiento -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Módulos principales DONANTES -->
  <script type="module" src="articles.js"></script>
  <script type="module" src="requests.js"></script>
  <script type="module" src="profile.js"></script>
  <script type="module" src="auth.js"></script>
  <script type="module" src="locker.js"></script>
</body>
</html>




